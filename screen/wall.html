<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Amjilt Welcome Wall ‚Äî Real Life Energy</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --warm-1: #fff1d6;
    --warm-2: #ffe2b3;
    --cool-1: #e6f7ff;
    --accent: #ffd166;
    --text-dark: #0b2b3a;
    --glass: rgba(255,255,255,0.14);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Nunito Sans',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{
    background:linear-gradient(180deg,#FFEFD5 0%, #E6F7FF 100%);
    overflow:hidden;
    color:#ffffff;
  }

  /* Fullscreen container */
  .stage{
    position:fixed;inset:0;display:flex;flex-direction:column;justify-content:space-between;
    align-items:stretch;
  }

  /* Background media area */
  .bg-wrap{
    position:absolute;inset:0;overflow:hidden;z-index:0;
  }
  video#bgVideo{
    position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.85) saturate(.98);
  }
  .slideshow{
    position:absolute;inset:0;width:100%;height:100%;display:block;
  }
  .slide{
    position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transition:opacity 1.2s ease;
    transform:scale(1.02);
    filter:brightness(.86) blur(8px);
  }
  .slide.show{opacity:1;transform:scale(1);}
  /* warm gradient overlay to improve contrast */
  .overlay{
    position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,236,179,0.28), rgba(255,242,230,0.18));
    mix-blend-mode:overlay;pointer-events:none;z-index:1;
  }
  .dark-filter{
    position:absolute;inset:0;background:linear-gradient(180deg, rgba(3,18,28,0.18), rgba(3,18,28,0.04));z-index:1;pointer-events:none;
  }

  /* Content (top/header + center + footer) */
  header{
    position:relative;z-index:2;padding:28px 48px;display:flex;justify-content:space-between;align-items:center;
  }
  .brand{
    display:flex;flex-direction:column;gap:6px;color:#fff;text-shadow:0 6px 20px rgba(3,18,28,0.6);
  }
  .brand .name{font-weight:800;letter-spacing:0.6px;font-size:20px;}
  .brand .tag{font-weight:600;opacity:.92;font-size:13px}

  .weather{
    display:flex;align-items:center;gap:12px;color:#fff;font-weight:700;text-shadow:0 6px 18px rgba(3,18,28,0.6);
    background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    padding:8px 14px;border-radius:12px;backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,0.12);
  }

  /* center card */
  .center{
    position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;
    margin:0 16%;
    border-radius:22px;
    backdrop-filter: blur(10px);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
    border:1px solid rgba(255,255,255,0.08);
    box-shadow: 0 40px 120px rgba(3,18,28,0.35);
    text-align:center;
  }

  .greeting{
    font-size:44px;font-weight:800;color:#fff;margin-bottom:10px;line-height:1.02;
    text-shadow: 0 14px 36px rgba(3,18,28,0.5);
  }
  .subtext{
    font-size:20px;color:rgba(255,255,255,0.94);margin-bottom:22px;font-weight:600;
  }

  .rotating{
    font-size:18px;color:#fff8e6;background:rgba(0,0,0,0.06);padding:10px 18px;border-radius:999px;
    display:inline-block;font-weight:700;box-shadow:0 8px 28px rgba(3,18,28,0.35);
  }

  .meta-row{
    margin-top:22px;display:flex;gap:18px;align-items:center;justify-content:center;color:rgba(255,255,255,0.95);font-weight:700;
    font-size:15px;text-shadow:0 6px 20px rgba(3,18,28,0.35);
  }
  .meta-row .dot{width:8px;height:8px;border-radius:50%;background:var(--accent);display:inline-block;margin-right:8px;vertical-align:middle}

  /* footer */
  footer{position:relative;z-index:2;padding:18px 48px;color:rgba(255,255,255,0.95);font-weight:700;text-align:center;text-shadow:0 8px 24px rgba(3,18,28,0.35)}
  footer a{color:#fff;text-decoration:none;font-weight:800}

  /* small / responsive tweaks */
  @media (max-width:900px){
    .center{margin:0 6%}
    .greeting{font-size:36px}
    .brand .name{font-size:16px}
  }

  /* small animation for greeting entrance */
  .greeting, .subtext, .rotating{opacity:0; transform:translateY(10px); animation:enter .9s forwards}
  .greeting{animation-delay:.18s}
  .subtext{animation-delay:.28s}
  .rotating{animation-delay:.38s}
  @keyframes enter{to{opacity:1;transform:none}}
</style>
</head>
<body>
  <div class="stage">
    <!-- background media layer -->
    <div class="bg-wrap" id="bgWrap">
      <!-- optional video: drop your video as "bg.mp4" (same dir) -->
      <video id="bgVideo" autoplay muted playsinline loop preload="auto" style="display:none;"></video>

      <!-- slideshow fallback: place images named bg1.jpg, bg2.jpg, bg3.jpg in same folder -->
      <div class="slideshow" id="slideshow"></div>

      <!-- overlays for warm look and contrast -->
      <div class="overlay"></div>
      <div class="dark-filter"></div>
    </div>

    <!-- header -->
    <header>
      <div class="brand" aria-hidden="false">
        <div class="name">AMJILT CYBER SCHOOL OF ALMATY</div>
        <div class="tag">–ò–Ω–Ω–æ–≤–∞—Ü–∏—è –º–µ–Ω –±—ñ–ª—ñ–º “õ–æ—Å—ã–ª“ì–∞–Ω –∂–µ—Ä</div>
      </div>

      <div class="weather" id="weather">‚òÄÔ∏è --¬∞C Almaty</div>
    </header>

    <!-- center content -->
    <main class="center" role="main" aria-live="polite">
      <div class="greeting" id="greeting">Good morning, Amjilt family!</div>
      <div class="subtext" id="subtext">Where learning feels like discovery.</div>

      <div class="rotating" id="rotating">Together we learn, lead, and inspire.</div>

      <div class="meta-row" id="meta">
        <div id="date">Tuesday, 4 November 2025</div>
        <div class="dot" aria-hidden="true"></div>
        <div id="time">10:24 AM</div>
        <div class="dot" aria-hidden="true"></div>
        <div id="todayWeatherSmall">‚òÄÔ∏è +12¬∞C</div>
      </div>
    </main>

    <footer>
      <span>amjiltcyberschool.kz ‚Ä¢ @amjilt.cyber.school ‚Ä¢ +7 747 710 6060</span>
    </footer>
  </div>

<script type="module">
/* ============================
   Amjilt Welcome Wall (v3)
   - Both video background (bg.mp4) and slideshow fallback supported.
   - Live time/date (Asia/Almaty), weather (Open-Meteo).
   - Rotating friendly/professional messages.
   Instructions at bottom of file.
   ============================ */

const CONFIG = {
  timezone: 'Asia/Almaty',
  locale: 'en-GB',
  slideImages: ['bg1.jpg','bg2.jpg','bg3.jpg'], // place your background photos here
  videoFile: 'bg.mp4', // put video file here if you have it
  slideDuration: 8000,
  messages: [
    "Good morning, Amjilt family!",
    "Together we learn, lead, and inspire.",
    "Innovation begins with curiosity.",
    "Every idea matters.",
    "Proud to be part of our digital future.",
    "Where learning feels like discovery."
  ],
};

/* ---------- Background loader: prefers video (bg.mp4). If not present, uses slideshow images ---------- */
async function setupBackground(){
  const videoEl = document.getElementById('bgVideo');
  const slideContainer = document.getElementById('slideshow');
  // try to fetch video HEAD to check existence
  try {
    const resp = await fetch(CONFIG.videoFile, {method:'HEAD'});
    if (resp.ok) {
      // show video
      videoEl.src = CONFIG.videoFile;
      videoEl.style.display = 'block';
      await videoEl.play().catch(()=>{/* autoplay blocked; it's fine on kiosk */});
      return;
    }
  } catch(e){ /* continue to slideshow */ }

  // If video not available, build slideshow
  const images = CONFIG.slideImages;
  let anyShown = false;
  images.forEach((src, i) => {
    const div = document.createElement('div');
    div.className = 'slide';
    div.style.backgroundImage = `url("${src}")`;
    if (i===0){ div.classList.add('show'); anyShown = true; }
    slideContainer.appendChild(div);
  });

  // cycle slides if at least one image is present (test by trying to load first image)
  if (images.length>0) {
    // test first image existence
    try {
      const test = await fetch(images[0], {method:'HEAD'});
      if (!test.ok) throw new Error('no images');
    } catch(e){
      // no images found: fallback to a gentle gradient background (leave as is)
      slideContainer.innerHTML = '';
      return;
    }

    let idx = 0;
    const slides = Array.from(slideContainer.querySelectorAll('.slide'));
    setInterval(() => {
      slides[idx].classList.remove('show');
      idx = (idx+1) % slides.length;
      slides[idx].classList.add('show');
    }, CONFIG.slideDuration);
  }
}

/* ---------- Clock & Date ---------- */
function startClock(){
  const timeEl = document.getElementById('time');
  const dateEl = document.getElementById('date');
  function update(){
    const now = new Date();
    const timeStr = new Intl.DateTimeFormat(CONFIG.locale, {hour:'2-digit', minute:'2-digit', hour12:true, timeZone:CONFIG.timezone}).format(now);
    const dateStr = new Intl.DateTimeFormat(CONFIG.locale, {weekday:'long', year:'numeric', month:'long', day:'numeric', timeZone:CONFIG.timezone}).format(now);
    timeEl.textContent = timeStr;
    dateEl.textContent = dateStr;
  }
  update(); setInterval(update, 15000);
}

/* ---------- Weather (Open-Meteo) ---------- */
async function startWeather(){
  const wEl = document.getElementById('weather');
  const smallW = document.getElementById('todayWeatherSmall');
  // Almaty coordinates
  const lat = 43.238949, lon = 76.889709;
  const endpoint = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&timezone=${encodeURIComponent(CONFIG.timezone)}`;
  async function fetchWeather(){
    try{
      const r = await fetch(endpoint,{cache:'no-cache'});
      if(!r.ok) throw new Error('weather fetch failed');
      const d = await r.json();
      if (!d.current_weather) throw new Error('no weather data');
      const {temperature, weathercode} = d.current_weather;
      const icon = mapWeatherCodeToEmoji(weathercode);
      const t = Math.round(temperature);
      wEl.textContent = `${icon} ${t}¬∞C Almaty`;
      smallW.textContent = `${icon} ${t}¬∞C`;
    }catch(err){
      wEl.textContent = '‚õÖ --¬∞C Almaty';
      smallW.textContent = '‚õÖ --¬∞C';
      console.warn('Weather failed', err);
    }
  }
  await fetchWeather();
  setInterval(fetchWeather, 15*60*1000);
}
function mapWeatherCodeToEmoji(code){
  if (code === 0) return '‚òÄÔ∏è';
  if (code <= 3) return '‚õÖ';
  if (code <= 48) return 'üå´Ô∏è';
  if (code <= 67) return 'üåßÔ∏è';
  if (code <= 86) return 'üå®Ô∏è';
  if (code <= 99) return '‚õàÔ∏è';
  return 'üå§Ô∏è';
}

/* ---------- Rotating messages & greeting logic ---------- */
function startMessages(){
  const rot = document.getElementById('rotating');
  const greet = document.getElementById('greeting');
  const sub = document.getElementById('subtext');
  const msgs = CONFIG.messages.slice();

  // First message is friendly greeting ‚Äî ensure it appears as primary greeting for morning/evening
  let idx = 0;
  function showNext(){
    // fade out/in
    rot.style.opacity = '0';
    setTimeout(()=>{
      rot.textContent = msgs[idx % msgs.length];
      rot.style.opacity = '1';
      idx++;
    }, 550);
  }
  // Set initial greeting depending on time of day (local)
  try {
    const now = new Date();
    const hour = new Intl.DateTimeFormat('en-GB', {hour:'2-digit', hour12:false, timeZone: CONFIG.timezone}).formatToParts(now)
      .find(p=>p.type==='hour').value;
    const h = parseInt(hour,10);
    if (h >= 5 && h < 12) {
      greet.textContent = 'Good morning, Amjilt family!';
      sub.textContent = 'Let‚Äôs make today inspiring.';
    } else if (h >= 12 && h < 18) {
      greet.textContent = 'Good afternoon, Amjilt family!';
      sub.textContent = 'Keep curiosity alive.';
    } else {
      greet.textContent = 'Good evening, Amjilt family!';
      sub.textContent = 'Rest, reflect, and recharge.';
    }
  } catch(e) { /* ignore */ }

  rot.textContent = msgs[0];
  idx = 1;
  setInterval(showNext, 25000);
}

/* ---------- Init everything ---------- */
(async function init(){
  await setupBackground();
  startClock();
  startWeather();
  startMessages();
})();

/* ---------- Deployment / Usage notes ----------
1) Place this file in a folder on the LED player.
2) For VIDEO background:
   - Put your looping background video named exactly: "bg.mp4" in same folder.
   - Recommended: short loop 10-30s, muted, H.264 mp4, optimized for web.
3) For SLIDESHOW background:
   - Supply images in the same folder and update CONFIG.slideImages list above with filenames.
   - Recommended images: 1920x1080 or higher. They will be blurred slightly for foreground text clarity.
4) If neither bg.mp4 nor slide images exist, the page will simply show the warm overlay background.
5) Open the html file in a browser (Chromium or Chrome recommended) and enable fullscreen/kiosk.
6) To edit rotating messages, update CONFIG.messages in the script.
7) Weather uses Open-Meteo (no API key). If the LED is offline, temperature will show placeholder.
--------------------------------------------------*/
</script>

</body>
</html>
